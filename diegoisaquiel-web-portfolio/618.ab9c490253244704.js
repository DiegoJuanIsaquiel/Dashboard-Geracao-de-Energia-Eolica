"use strict";(self.webpackChunkdiegoisaquiel_web_portfolio=self.webpackChunkdiegoisaquiel_web_portfolio||[]).push([[618],{3618:(V,g,s)=>{s.r(g),s.d(g,{MainModule:()=>O,routes:()=>l});var c=s(6895),a=s(5861),u=s(7020),e=s(4650);function d({status:n,error:i,message:t}){return 503===n?i?.message||"Ocorreu um erro inesperado, por favor, experimente atualizar a p\xe1gina e tentar novamente.":n>=500&&n<=599?"Ocorreu um erro inesperado, por favor, experimente atualizar a p\xe1gina e tentar novamente.":i?Array.isArray(i.message)?i.message.every(r=>"string"==typeof r)?i.message[0]:i.message.map(({constraints:r})=>r&&Object.values(r)||[]).reduce((r,o)=>[...r,...o])[0]:"string"==typeof i.message&&i.message.includes("Cannot")?"A rota especificada n\xe3o foi encontrada, por favor, contate os administradores se o erro persistir.":i.message||"Ocorreu um erro inesperado, por favor, experimente atualizar a p\xe1gina e tentar novamente.":Array.isArray(t)?t[0]:t||"Ocorreu um erro inesperado, por favor, experimente atualizar a p\xe1gina e tentar novamente."}var h=s(2340),p=s(9621);let m=(()=>{class n{constructor(t){this.http=t}getAllRegisters(){var t=this;return(0,a.Z)(function*(){const r=h.N.api;return yield t.http.get(`${r}`)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.T))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f=(()=>{class n{constructor(t){this.currentRegisterInteractor=t}getAllRegister(){var t=this;return(0,a.Z)(function*(){const{success:r,error:o}=yield t.currentRegisterInteractor.getAllRegisters();return r?[r,""]:[null,d(o)]})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v=(()=>{class n{constructor(t){this.currentRegisterService=t,this.registerValuesList=[],this.highestValueRegistered=0,this.lowestValueRegistered=0,this.averageOfValuesRegistered=0,this.shouldGenerateValues=!0,this.fakeValuesCount=0}ngOnInit(){var t=this;return(0,a.Z)(function*(){yield t.getRegisters(),yield t.generateGraph(),setInterval(()=>t.shouldGenerateValues?t.generateFakeValues():t.getRegisters(),1e4)})()}generateGraph(){this.chartOptions=new u.kL({chart:{type:"line"},title:{text:"Registro de energia"},credits:{enabled:!1},yAxis:{title:{text:"Corrente (mA)"}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!1}},series:[{name:"Valores das energias geradas",data:this.registerValuesList}]}),this.lineChart=this.chartOptions}getRegisters(){var t=this;return(0,a.Z)(function*(){const[r,o]=yield t.currentRegisterService.getAllRegister();!r||(t.registerList=r,t.getRegisterValues())})()}getRegisterValues(){this.registerList.feeds.forEach(t=>{this.registerValuesList.push(Math.ceil(t.field1))}),this.getHighestAndLowestValue()}getHighestAndLowestValue(){this.lowestValueRegistered=Math.min(...this.registerValuesList),this.highestValueRegistered=Math.max(...this.registerValuesList);let t=0;this.registerValuesList.forEach(r=>{t+=r}),this.averageOfValuesRegistered=+(t/this.registerValuesList.length).toFixed(2)}generateFakeValues(){let t=Math.ceil(-30*Math.random()+134);this.fakeValuesCount>10&&(t=0),this.chartOptions.addPoint(t),this.registerValuesList.push(t),this.fakeValuesCount++,this.registerValuesList.length>45&&this.chartOptions.removePoint(0),this.getHighestAndLowestValue()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main"]],decls:29,vars:4,consts:[[1,"container"],[1,"maior-menor-media"],[1,"textos"],[1,"periodo"],[1,"values"],[1,"graficos"],[1,"charts"],[1,"line",3,"chart"]],template:function(t,r){1&t&&(e.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span"),e._uU(5,"Maior valor de corrente"),e.qZA(),e.TgZ(6,"span",3),e._uU(7,"Nas \xfaltimas 24h"),e.qZA(),e.TgZ(8,"span",4),e._uU(9),e.qZA()()(),e.TgZ(10,"div",1)(11,"div",2)(12,"span"),e._uU(13,"Menor valor de corrente"),e.qZA(),e.TgZ(14,"span",3),e._uU(15,"Nas \xfaltimas 24h"),e.qZA(),e.TgZ(16,"span",4),e._uU(17),e.qZA()()(),e.TgZ(18,"div",1)(19,"div",2)(20,"span"),e._uU(21,"M\xe9dia dos valores de corrente"),e.qZA(),e.TgZ(22,"span",3),e._uU(23,"Nas \xfaltimas 24h"),e.qZA(),e.TgZ(24,"span",4),e._uU(25),e.qZA()()()(),e.TgZ(26,"div",5)(27,"div",6),e._UZ(28,"div",7),e.qZA()()()),2&t&&(e.xp6(9),e.hij("",r.highestValueRegistered,"mA"),e.xp6(8),e.hij("",r.lowestValueRegistered,"mA"),e.xp6(8),e.hij("",r.averageOfValuesRegistered,"mA"),e.xp6(3),e.Q6J("chart",r.lineChart))},dependencies:[u.Dm],styles:[".checked[_ngcontent-%COMP%]{margin-left:1rem}.checked[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:4.8vw}.container[_ngcontent-%COMP%]   .maior-menor-media[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 0 6px #0000000f;border-radius:.6vw;display:flex;justify-content:flex-start;align-items:flex-start;width:25%;padding:1.4vw .8vw}.container[_ngcontent-%COMP%]   .maior-menor-media[_ngcontent-%COMP%]   .textos[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;justify-content:space-between;width:100%}.container[_ngcontent-%COMP%]   .maior-menor-media[_ngcontent-%COMP%]   .textos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#2d2d2d;font-size:.8vw}.container[_ngcontent-%COMP%]   .maior-menor-media[_ngcontent-%COMP%]   .textos[_ngcontent-%COMP%]   span.periodo[_ngcontent-%COMP%]{font-size:.6vw;font-weight:400;color:#969696;text-align:right}.container[_ngcontent-%COMP%]   .maior-menor-media[_ngcontent-%COMP%]   .textos[_ngcontent-%COMP%]   span.values[_ngcontent-%COMP%]{font-weight:800;font-size:2.4vw}.graficos[_ngcontent-%COMP%]{box-shadow:0 0 6px #0000000f;width:90vw;border-radius:.6vw;margin:0 4.8vw;padding:2.4vw}.highcharts-title[_ngcontent-%COMP%]{color:red}"]}),n})();var M=s(3361),C=s(9832);const l=[{path:"",component:v}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,M.Bz.forChild(l),C.KdK,u.SD]}),n})()}}]);